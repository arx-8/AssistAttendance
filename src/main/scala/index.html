<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<form action="do" method="post">
    <button type="submit" name="btn" value="start">出社</button>
    <button type="submit" name="btn" value="quit">退社</button>
</form>
<script>
    window.onload = function () {
        /**
         * 2重サブミット防止用
         * フラグブロックより、disabledにしたいが、disabledにするとform submitがうまく飛ばなくなる
         */
        let isSubmit = false;
        const btns = document.querySelectorAll('[name = "btn"]');
        Array.prototype.forEach.call(btns, (btn) => {
            btn.onclick = () => {
                if (!isSubmit) {
                    isSubmit = true;
                    return true;
                }
                alert("2重サブミット防止。処理中...");
                return false;
            };
        });
    }
</script>
</body>
</html>
